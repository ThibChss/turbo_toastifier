<% flash.each do |flash_type, messages| %>
  <% Array.wrap(messages).each do |message| %>
    <% next if message.blank? %>

    <div
      class="flash__message --<%= flash_type %>"
      role="alert"
      aria-live="polite"
      aria-atomic="true"
      aria-label="<%= flash_type.to_s.humanize %> message"
      data-controller="turbo-toastifier-flash-removal"
      data-turbo-toastifier-flash-removal-display-time-value="<%= configuration.duration_for(flash_type) %>"
      data-turbo-toastifier-flash-removal-dismiss-mode-value="<%= configuration.dismiss.to_sym %>"
      data-action="<%= actions %>"
    >
      <div class="flash__message-content">
        <%= h(message) %>
      </div>

      <% if should_show_close_button?(flash_type) %>
        <button
          type="button"
          class="flash__message-close"
          data-action="click->turbo-toastifier-flash-removal#dismiss"
          aria-label="Close <%= flash_type.to_s.humanize %> message"
        >
          âœ•
        </button>
      <% end %>
    </div>
  <% end %>
<% end %>
