<% flash.each do |flash_type, messages| %>
  <% Array.wrap(messages).each do |message| %>
    <% next if message.blank? %>

    <div
      class="flash__message --<%= flash_type %>"
      data-controller="turbo-toastifier-flash-removal"
      data-turbo-toastifier-flash-removal-display-time-value="<%= configuration.duration_for(flash_type) %>"
      data-action="animationend->turbo-toastifier-flash-removal#remove mouseenter->turbo-toastifier-flash-removal#pause mouseleave->turbo-toastifier-flash-removal#resume"
    >
      <div class="flash__message-content">
        <%= h(message) %>
      </div>

      <% if configuration.duration_for(flash_type).zero? %>
        <button
          type="button"
          class="flash__message-close"
          data-action="click->turbo-toastifier-flash-removal#dismiss"
          aria-label="Close"
        >
          âœ•
        </button>
      <% end %>
    </div>
  <% end %>
<% end %>
